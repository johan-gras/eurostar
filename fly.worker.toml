# Fly.io deployment configuration for the background worker
# Deploy with: fly deploy --config fly.worker.toml

app = "eurostar-worker"
primary_region = "lhr"  # London - closest to Eurostar routes

[build]
  dockerfile = "packages/autoclaim/Dockerfile"

[env]
  NODE_ENV = "production"

[processes]
  worker = "node packages/core/dist/worker.js"

[[vm]]
  memory = "256mb"
  cpu_kind = "shared"
  cpus = 1
  processes = ["worker"]
